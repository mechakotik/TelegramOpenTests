package com.mechakotik.TelegramOpenTests;

import java.io.FileReader;
import java.util.HashMap;
import java.util.Scanner;

public class Dictionary {
    public Dictionary() throws Exception {
        loadLanguage("en");
        loadLanguage("ru");
    }

    HashMap<String, String> map = new HashMap<>();

    private void loadLanguage(String language) {
        try {
            tryLoadLanguage(language);
        }
        catch(Exception e) {
            System.out.println("Failed to load language " + language + ": " + e);
        }
    }

    private void tryLoadLanguage(String language) throws Exception {
        FileReader reader = new FileReader("data/strings_" + language + ".txt");
        Scanner scanner = new Scanner(reader);
        while(scanner.hasNext()) {
            String name = scanner.next(), value = scanner.nextLine();
            map.put(language + "_" + name, value);
        }
    }

    String get(String language, String name) {
        return map.get(language + " " + name);
    }
}
